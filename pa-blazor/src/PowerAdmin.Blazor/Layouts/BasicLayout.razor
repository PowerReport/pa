@namespace PowerAdmin.Blazor
@using Microsoft.Extensions.Options
@using PowerAdmin.Blazor.Common.Configuration
@inherits LayoutComponentBase
@inject IOptions<AppSettings> AppSettingsOptions

<AntDesign.ProLayout.BasicLayout
    Logo="AppSettingsOptions.Value.Logo"
    MenuData="_menuData">
    <ChildContent>
        @Body
    </ChildContent>
    <FooterRender>
        <FooterView Copyright="@AppSettingsOptions.Value.Copyright" Links="_links"></FooterView>
    </FooterRender>
</AntDesign.ProLayout.BasicLayout>
<SettingDrawer />

@code
{
    private readonly MenuDataItem[] _menuData =
    {
        new MenuDataItem
        {
            Path = "/dashboard",
            Name = "Dashboard",
            Key = "dashboard",
            Icon = "dashboard",
            Children = new MenuDataItem[]
            {
                new MenuDataItem
                {
                    Path = "/",
                    Name = "Analysis",
                    Key = "analysis"
                }
            }
        },
        new MenuDataItem
        {
            Path = "/user",
            Name = "User",
            Key = "user",
            Icon = "user"
        }
    };

    private readonly LinkItem[] _links =
    {
        new LinkItem
        {
            Key = "github",
            Title = (RenderFragment)(@<Icon Type="github"></Icon>),
            Href = "https://github.com/PowerReport/pa",
            BlankTarget = true
        }
    };
}